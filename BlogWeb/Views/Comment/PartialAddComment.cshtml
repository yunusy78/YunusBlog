@model Entity.Concrete.Comment
<br/>
<br/>

<h4>Leave a Comment</h4>
<div class="comment-bottom">
    @using (Html.BeginForm( "PartialAddComment", "Comment", FormMethod.Post, new { id = "frmAddComment" } ))
    {
        @Html.AntiForgeryToken()
        <div class="form-group">
            @Html.HiddenFor(model => model.BlogId, new { @class = "form-control", id = "txtBlogId" }) <!-- Hidden input field for BlogId -->
            @Html.TextBoxFor(model => model.UserName, new { @class = "form-control", id = "txtUsername", placeholder = "Your username..." })
            @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.TextBoxFor(model => model.Title, new { @class = "form-control", id = "txtTitle", placeholder = "Your title..." })
            @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.TextAreaFor(model => model.Content, new { @class = "form-control", id = "txtContent", rows = "3", placeholder = "Your comment..." })
            @Html.ValidationMessageFor(model => model.Content, "", new { @class = "text-danger" })
        </div>

        <div class="form-group" id="rating">
            <label for="ratingValue">Rate this blog:</label>
            <br>
            <input type="radio" name="BlogRating" value="1" id="rating1">
            <label for="rating1">★</label>

            <input type="radio" name="BlogRating" value="2" id="rating2">
            <label for="rating2">★★</label>

            <input type="radio" name="BlogRating" value="3" id="rating3">
            <label for="rating3">★★★</label>

            <input type="radio" name="BlogRating" value="4" id="rating4">
            <label for="rating4">★★★★</label>

            <input type="radio" name="BlogRating" value="5" id="rating5">
            <label for="rating5">★★★★★</label>
        </div>

        <button type="submit" class="btn btn-success"><i class="mdi mdi-content-save"></i> Save</button>
    }
</div>

@* @section scripts{
    <script>
$(document).ready(function () {
 $("#btnAddComment").click(function () {
           
            let comment = {
                BlogId: $('#txtBlogId').val(),
                UserName: $('#txtUsername').val(),           
                Title: $('#txtTitle').val(),
                Content: $('#txtContent').val(),
                Rating: $('input[name="BlogRating"]:checked').val()
              
            };
            $.ajax({
                dataType: "json",
                type: "POST",
                url: '/Comment/PartialAddComment', 
                data: comment,
                success: function (data) {
                    console.log(data);
                    alert("New comment added successfully!");
                    
                                        $("#txtUsername").val('');
                                        $("#txtWriterName").val('');
                                        $("#txtTitle").val('');
                                       
                                    location.reload();
                },
                error: function (xhr, status, error) {
                    console.error(error);
                }
            });
    });
});
</script>
}*@